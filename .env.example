# ===========================================
# zigznote Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values

# Node Environment
NODE_ENV=development

# ===========================================
# Docker Credentials (used by docker-compose.yml)
# ===========================================
POSTGRES_PASSWORD=SecureDevPassword123!
REDIS_PASSWORD=DevRedisPassword123!

# ===========================================
# Database (PostgreSQL)
# ===========================================
DATABASE_URL=postgresql://zigznote_user:SecureDevPassword123!@localhost:5432/zigznote?schema=public
DATABASE_URL_TEST=postgresql://zigznote_test:test_password@localhost:5433/zigznote_test?schema=public

# ===========================================
# Redis (ioredis)
# ===========================================
REDIS_URL=redis://:DevRedisPassword123!@localhost:6379
# Individual connection options (alternative to REDIS_URL)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=DevRedisPassword123!

# ===========================================
# API Server
# ===========================================
API_PORT=3001
API_URL=http://localhost:3001

# ===========================================
# Web App
# ===========================================
WEB_PORT=3000
WEB_URL=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:3001

# ===========================================
# Authentication (NextAuth)
# ===========================================
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-super-secret-nextauth-key-change-in-production
NEXTAUTH_URL=http://localhost:3000

# OAuth Providers (optional - enable as needed)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=

# ===========================================
# Email (AWS SES)
# ===========================================
# AWS SES credentials (can be different from S3 credentials)
AWS_SES_ACCESS_KEY_ID=your_ses_access_key
AWS_SES_SECRET_ACCESS_KEY=your_ses_secret_key
AWS_SES_REGION=us-east-1
AWS_SES_FROM_EMAIL=noreply@zigznote.com
FROM_EMAIL=noreply@zigznote.com
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ===========================================
# Meeting Bots (Recall.ai)
# ===========================================
RECALL_API_KEY=your_recall_api_key
RECALL_WEBHOOK_SECRET=your_recall_webhook_secret
RECALL_API_URL=https://us-west-2.recall.ai/api/v1

# ===========================================
# Transcription (Deepgram)
# ===========================================
DEEPGRAM_API_KEY=your_deepgram_api_key

# ===========================================
# AI/LLM
# ===========================================
ANTHROPIC_API_KEY=sk-ant-xxxxxxxxxxxx
OPENAI_API_KEY=sk-xxxxxxxxxxxx

# ===========================================
# Google OAuth (Calendar)
# ===========================================
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REDIRECT_URI=http://localhost:3001/api/calendar/callback

# ===========================================
# Session & Security
# ===========================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production
ENCRYPTION_KEY=your-32-character-encryption-key!

# ===========================================
# Admin Panel Authentication
# ===========================================
ADMIN_JWT_SECRET=your-32-char-admin-jwt-secret-key!
ADMIN_2FA_ISSUER=zigznote
ADMIN_ALLOWED_IPS=
ADMIN_URL=http://localhost:3002

# ===========================================
# Feature Flags
# ===========================================
ENABLE_WEBHOOKS=true
ENABLE_ANALYTICS=false

# ===========================================
# Storage (MinIO for local dev, S3 for production)
# ===========================================
# MinIO credentials for local development (default)
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
# S3-compatible settings (used by API)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin123
AWS_S3_BUCKET=zigznote-audio
# MinIO endpoint for local development
AWS_S3_ENDPOINT=http://localhost:9000
# For production: Remove AWS_S3_ENDPOINT to use AWS S3
# AWS_S3_ENDPOINT=
# Optional: CloudFront/CDN URL for faster delivery
# AWS_CDN_URL=https://d123456.cloudfront.net

# ===========================================
# Logging
# ===========================================
LOG_LEVEL=debug

# ===========================================
# Alerting & Monitoring
# ===========================================
ALERTS_ENABLED=true
ALERTS_CHECK_INTERVAL_MS=30000

# Alert notification channels (configure at least one for production)
ALERT_EMAIL_RECIPIENTS=alerts@yourcompany.com,oncall@yourcompany.com
ALERT_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/XXXXX/XXXXX/XXXXX
ALERT_PAGERDUTY_ROUTING_KEY=your_pagerduty_routing_key
ALERT_WEBHOOK_URL=https://your-webhook-endpoint.com/alerts
